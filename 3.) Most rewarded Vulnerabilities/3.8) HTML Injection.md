## HTML Injection and UI Redressing (Clickjacking)
`Origin`

- HTML Injection happens when user-controlled input is embedded directly into the HTML structure of a webpage without proper sanitization. Unlike XSS, which typically involves JavaScript execution, HTML Injection focuses on altering the visible layout or structure of the page â€” including forms, buttons, links, and elements like `<iframe>`, `<img>`, and `<div>`.


#### ğŸŒ³ Why HTML Injection matters ?
Though not always leading to full JS execution, HTML Injection can still cause:
- Content spoofing or defacement
- Fake login forms for phishing
- Visual trickery to influence user actions
- Forced redirections or behavioral manipulation
- Client-side attacks if combined with browser quirks or misconfigurations


#### ğŸŒ³ Common Injection Vectors:-
- Reflected input in URL parameters (?msg=Welcome <b>Hacker</b>)
- Search boxes or profile fields that render unescaped HTML
- Comments or feedback forms without proper filtering
- Error messages that reflect raw input

Example:

        <div>Search result: <span>{user_input}</span></div>

Injecting:

      </span><iframe src="https://evil.com">

will break out of the span and embed external content.


#### ğŸŒ³ Impact and Exploitation:-

Attackers can:

- Inject fake forms for phishing
- Modify UI to mislead users
- Insert malicious images or links
- Exploit broken HTML to force browser parsing errors
- Bypass CSP if the app trusts inline HTML

In cases with generous content injection, you might escalate to XSS.


#### ğŸŒ³ UI Redressing: Clickjacking Basics:-

Clickjacking is a visual trick where an attacker embeds a target site in an <iframe> and overlays transparent or fake UI elements to hijack user interactions.

For example:
- Victim thinks theyâ€™re clicking â€œPlay,â€ but they're clicking â€œConfirm Paymentâ€
- Attacker frames a settings page and tricks victim into activating a feature


#### ğŸŒ³ Real-World Clickjacking Examples:-
- Account settings changes (email, password) in social media platforms
- CSRF attacks made more convincing via UI redressing
- Forced â€œLikeâ€ or â€œFollowâ€ buttons in old Facebook campaigns
- Targeting browser extensions via framed UI

#### ğŸŒ³ Defenses Against HTML Injection:-
- Escape all user input rendered in HTML (&, <, >, ', ")
- Use templating engines that auto-escape (e.g., Django, Jinja2)
- Sanitize input fields even if no JS is involved
- Avoid rendering raw error messages or form data


#### ğŸŒ³ Defenses Against Clickjacking:- 
- Use the X-Frame-Options header:

      X-Frame-Options: DENY  

OR

      X-Frame-Options: SAMEORIGIN  

- Implement Content Security Policy (CSP):

      Content-Security-Policy: frame-ancestors 'self';  

- Use framebusting scripts as a fallback:

      if (top !== self) top.location = self.location;  

#### ğŸŒ³ How to Test for Clickjacking:- 
- Simple HTML PoC:

      <iframe src="https://target.com/settings" width="100%" height="500" style="opacity:0.1; position:absolute; top:0; left:0;"></iframe>
      <button style="z-index:9999; position:absolute; top:10px; left:10px;">Click here</button>

If the click triggers a hidden button inside the iframe, the app is vulnerable.


#### ğŸŒ³ Reporting Guidelines:- 
When reporting:
- For HTML Injection, include the raw payload and visual changes
- Show how HTML content is altered or inserted
- For Clickjacking, include PoC iframe page and describe the exact impact
- If login, payment, or settings pages are affected, impact is often higher


#### ğŸŒ³ Conclusion:-

While often underrated, HTML Injection and Clickjacking attacks have real-world consequences. They rely less on technical payloads and more on manipulating presentation and behavior. A well-crafted visual attack can be just as dangerous as a full XSS â€” and in some cases, more convincing.
